<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:t="http://myfaces.apache.org/tomahawk">


<body>
	<ui:composition template="/sistema.xhtml">
		<ui:define name="titulo">
			<i class="fa fa-angle-right"></i> configuração</ui:define>
		<ui:define name="conteudo">			
			
				<div class="row-fluid">
					<div class="col-xs-12 well">
					   <form jsf:id="form1" jsf:prependId="false" class="form-horizontal">
						<div class="form-group">
						   <div class="col-md-2">
						     <label class="control-label" for="plano">Plano</label>
						   </div>							
						   <div class="col-md-5">
								<input type="text" jsf:id="plano" jsf:label="Plano" required="true"
									class="form-control" jsf:value="#{sistemaBean.sistema.plano}" />
						   </div>
						</div>
						<div class="form-group">
							<div class="col-md-2">
						     <label class="control-label" for="valor">Valor</label>
						   </div>
							<div class="col-md-3">
								<input type="number" jsf:id="valor" jsf:label="Valor" required="true"
									class="form-control" jsf:value="#{sistemaBean.sistema.valor}" />
							</div>
						</div>
						<div class="form-group">							
							<div class="col-md-2">
								 <button type="submit" jsf:id="bt_conf_inc"  jsf:action="#{sistemaBean.salvar}"  class="btn btn-primary"  >Salvar 
									   <f:ajax execute="@form " render="@form :msg :form"/>
								</button>	
							</div>
						</div>
						<h:inputHidden value="#{sistemaBean.sistema.id}" />
					  </form>
					</div>
					<div class="col-xs-12">
					<h:form id="form" prependId="false">
					   <h:dataTable id="tabela" var="list" value="#{sistemaBean.lista}"
					styleClass="table table-responsive  table-hover "  rows="10">
					<h:column>
						<f:facet name="header">Id</f:facet>
                      #{list.id}              
                   </h:column>
					<h:column>
						<f:facet name="header">Nome</f:facet>
                      #{list.plano}                                                                                
                    </h:column>
					<h:column>
						<f:facet name="header">Valor</f:facet>
						<h:outputText value="#{list.valor}">
                          <f:convertNumber currencyCode="BRL" type="currency"/>
                        </h:outputText>
                    </h:column>
					<h:column>
						<f:facet name="header">Ações</f:facet>
						<h:commandLink styleClass="fa fa-edit fa-2x">
							<f:setPropertyActionListener target="#{sistemaBean.sistema}" value="#{list}" />
						</h:commandLink> 
                        &nbsp;           
                        <h:commandLink action="#{sistemaBean.deletar(list)}"
							onclick="return confirm('Realmente deseja deletar esse plano ?');"
							styleClass="fa fa-trash-o fa-2x " >
							<f:ajax execute="@form " render="@form :msg"/>
						</h:commandLink>	
					 </h:column>
				  </h:dataTable>
				  <!-- final da tabela -->
				  </h:form>
					</div>
				</div>
				
			

		</ui:define>
	</ui:composition>
</body>
</html>
